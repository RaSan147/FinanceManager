{% extends "base.html" %}

{% block title %}Loans{% endblock %}

{% block content %}
<!-- Loans list view: displays loan rows populated by client-side script (data-loans-body) -->
<div class="card">
  <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
    <h4 class="card-title mb-0">Loans</h4>
    <div class="header-actions d-flex gap-2">
      <button
        type="button"
        class="btn btn-light"
        data-open-transaction-modal
        aria-label="Add Transaction"
        title="Add Transaction"
      >
        <i class="fa-solid fa-plus"></i>
        <span class="d-none d-md-inline ms-1">Add Tx</span>
      </button>
    </div>
  </div>

  <div class="card-body">
    <div class="table-responsive" data-loans-table>
      <table class="table table-hover loans-table">
        <thead>
          <tr>
            <th>Status</th>
            <th>Direction</th>
            <th>Counterparty</th>
            <th>Principal</th>
            <th>Outstanding</th>
            <th>Currency</th>
            <th>Created</th>
            <th>Closed</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody data-loans-body>
          <!-- Placeholder row shown while loans are fetched and rendered by loans.js -->
          <tr>
            <td colspan="9" class="text-muted text-center">Loading...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
{# Include page-specific JS (e.g., loans.js) to fetch and render loan rows and wire actions. #}
{% endblock %}
